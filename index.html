<!-- gallery-of-kaeon.github.io?path=[link] -->

<!DOCTYPE html>

<html>

	<head>

		<title>

			GhostHost
			
		</title>

		<script>

			var cors_api_url = 'https://cors-anywhere.herokuapp.com/';

			function doCORSRequest(options, printResult) {

				var x = new XMLHttpRequest();

				x.open(options.method, cors_api_url + options.url);
				
				x.onload = x.onerror = function() {
						
					printResult(
						options.method + ' ' + options.url + '\n' +
						x.status + ' ' + x.statusText + '\n\n' +
						(x.responseText || '')
					);
				};

				if (/^POST/i.test(options.method)) {

					x.setRequestHeader(
						'Content-Type',
						'application/x-www-form-urlencoded');
				}

				x.send(options.data);
			}

			function main() {

				let vars = {};

				window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
					vars[key] = value;
				});

				let uri = vars["path"];

				if(uri == null)
					return;
				
				if(uri.includes("%"))
					uri = decodeURIComponent(uri);

				try {

					doCORSRequest(
						{
							method: 'GET',
							url: uri,
							data: ""
						},
						function printResult(result) {

							document.documentElement.innerHTML = "";

							document.write(
								result.substring(result.indexOf("\n\n") + 2));
						}
					);
				}

				catch(error) {

				}
			}

			main();

		</script>

	</head>

	<body>

	</body>

</html>