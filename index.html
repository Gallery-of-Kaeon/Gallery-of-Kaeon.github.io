<!DOCTYPE html>
<html>
	<head>
		<title>
			GhostHost
		</title>
		<script>

			function open(file) {

				var rawFile = new XMLHttpRequest();
				rawFile.open("GET", file, false);

				var allText = "";

				rawFile.onreadystatechange = function() {

					if(rawFile.readyState === 4) {

						if(rawFile.status === 200 || rawFile.status == 0) {
							allText = rawFile.responseText;
						}
					}
				}

				rawFile.send(null);

				return allText;
			}

			function main() {

				// url/?path=[link]

				let uri =
					"https://crossorigin.me/" +
						location.href.substring(
							location.href.indexOf("?") + 6);

				console.log(uri);

				try {
					
					fetch(uri)
						.then(function(response) {
							return response.text();
						})
						.then(function(text) {
							console.log(text);
						});
				}

				catch(error) {
					console.log(error.message);
				}
			}

			main();

		</script>
	</head>
	<body>

	</body>
</html>